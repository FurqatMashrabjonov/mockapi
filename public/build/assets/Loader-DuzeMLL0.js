import{r as o,j as s}from"./app-DynpH6MQ.js";import{c as j}from"./cn-C-5SdYIA.js";import{u as z,f as T,M as B,a as K,P as W,L as $,m as I}from"./motion-Bg1775yG.js";import{c as O}from"./createReactComponent-D5lQ_2zB.js";/**
 * @license @tabler/icons-react v3.3.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var U=O("outline","square-rounded-x","IconSquareRoundedX",[["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-0"}],["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z",key:"svg-1"}]]);function L(){const e=o.useRef(!1);return z(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function _(){const e=L(),[t,r]=o.useState(0),n=o.useCallback(()=>{e.current&&r(t+1)},[t]);return[o.useCallback(()=>T.postRender(n),[n]),t]}class q extends o.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function D({children:e,isPresent:t}){const r=o.useId(),n=o.useRef(null),f=o.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=o.useContext(B);return o.useInsertionEffect(()=>{const{width:h,height:a,top:m,left:p}=f.current;if(t||!n.current||!h||!a)return;n.current.dataset.motionPopId=r;const i=document.createElement("style");return u&&(i.nonce=u),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${a}px !important;
            top: ${m}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[t]),s.jsx(q,{isPresent:t,childRef:n,sizeRef:f,children:o.cloneElement(e,{ref:n})})}const b=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:f,presenceAffectsLayout:u,mode:h})=>{const a=K(Z),m=o.useId(),p=o.useMemo(()=>({id:m,initial:t,isPresent:r,custom:f,onExitComplete:i=>{a.set(i,!0);for(const l of a.values())if(!l)return;n&&n()},register:i=>(a.set(i,!1),()=>a.delete(i))}),u?[Math.random()]:[r]);return o.useMemo(()=>{a.forEach((i,l)=>a.set(l,!1))},[r]),o.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),h==="popLayout"&&(e=s.jsx(D,{isPresent:r,children:e})),s.jsx(W.Provider,{value:p,children:e})};function Z(){return new Map}function H(e){return o.useEffect(()=>()=>e(),[])}const x=e=>e.key||"";function X(e,t){e.forEach(r=>{const n=x(r);t.set(n,r)})}function G(e){const t=[];return o.Children.forEach(e,r=>{o.isValidElement(r)&&t.push(r)}),t}const V=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:f,presenceAffectsLayout:u=!0,mode:h="sync"})=>{const a=o.useContext($).forceRender||_()[0],m=L(),p=G(e);let i=p;const l=o.useRef(new Map).current,k=o.useRef(i),g=o.useRef(new Map).current,y=o.useRef(!0);if(z(()=>{y.current=!1,X(p,g),k.current=i}),H(()=>{y.current=!0,g.clear(),l.clear()}),y.current)return s.jsx(s.Fragment,{children:i.map(c=>s.jsx(b,{isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:u,mode:h,children:c},x(c)))});i=[...i];const R=k.current.map(x),M=p.map(x),P=R.length;for(let c=0;c<P;c++){const d=R[c];M.indexOf(d)===-1&&!l.has(d)&&l.set(d,void 0)}return h==="wait"&&l.size&&(i=[]),l.forEach((c,d)=>{if(M.indexOf(d)!==-1)return;const v=g.get(d);if(!v)return;const F=R.indexOf(d);let w=c;if(!w){const S=()=>{l.delete(d);const E=Array.from(g.keys()).filter(C=>!M.includes(C));if(E.forEach(C=>g.delete(C)),k.current=p.filter(C=>{const N=x(C);return N===d||E.includes(N)}),!l.size){if(m.current===!1)return;a(),n&&n()}};w=s.jsx(b,{isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:u,mode:h,children:v},x(v)),l.set(d,w)}i.splice(F,0,w)}),i=i.map(c=>{const d=c.key;return l.has(d)?c:s.jsx(b,{isPresent:!0,presenceAffectsLayout:u,mode:h,children:c},x(c))}),s.jsx(s.Fragment,{children:l.size?i:i.map(c=>o.cloneElement(c))})},A=({className:e})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:j("w-6 h-6 ",e),children:s.jsx("path",{d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),J=({className:e})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:j("w-6 h-6 ",e),children:s.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),Q=({loadingStates:e,value:t=0})=>s.jsx("div",{className:"flex relative justify-start max-w-xl mx-auto flex-col mt-40",children:e.map((r,n)=>{const f=Math.abs(n-t),u=Math.max(1-f*.2,0);return s.jsxs(I.div,{className:j("text-left flex gap-2 mb-4"),initial:{opacity:0,y:-(t*40)},animate:{opacity:u,y:-(t*40)},transition:{duration:.5},children:[s.jsxs("div",{children:[n>t&&s.jsx(A,{className:"text-black dark:text-white"}),n<=t&&s.jsx(J,{className:j("text-black dark:text-white",t===n&&"text-black dark:text-lime-500 opacity-100")})]}),s.jsx("span",{className:j("text-black dark:text-white",t===n&&"text-black dark:text-lime-500 opacity-100"),children:r.text})]},n)})}),Y=({loadingStates:e,loading:t,duration:r=2e3,loop:n=!0})=>{const[f,u]=o.useState(0);return o.useEffect(()=>{if(!t){u(0);return}const h=setTimeout(()=>{u(a=>n?a===e.length-1?0:a+1:Math.min(a+1,e.length-1))},r);return()=>clearTimeout(h)},[f,t,n,e.length,r]),s.jsx(V,{mode:"wait",children:t&&s.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full fixed inset-0 z-[100] flex items-center justify-center backdrop-blur-2xl",children:[s.jsx("div",{className:"h-96  relative",children:s.jsx(Q,{value:f,loadingStates:e})}),s.jsx("div",{className:"bg-gradient-to-t inset-x-0 z-20 bottom-0 bg-white dark:bg-black h-full absolute [mask-image:radial-gradient(900px_at_center,transparent_30%,white)]"})]})})},ee=[{text:"Buying a condo"},{text:"Travelling in a flight"},{text:"Meeting Tyler Durden"},{text:"He makes soap"},{text:"We goto a bar"},{text:"Start a fight"},{text:"We like it"},{text:"Welcome to F**** C***"}];function oe(){const[e,t]=o.useState(!1);return s.jsxs("div",{className:"w-full h-[60vh] flex items-center justify-center",children:[s.jsx(Y,{loadingStates:ee,loading:e,duration:2e3}),e&&s.jsx("button",{className:"fixed top-4 right-4 text-black dark:text-white z-[120]",onClick:()=>t(!1),children:s.jsx(U,{className:"h-10 w-10"})})]})}export{oe as MultiStepLoaderDemo};
